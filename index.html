const SYSTEM_STATE = {
    year: 2026,
    language: "EN",
    currency: "USD",
    isFiled: false,
    activeDocument: null
};

const I18N_DATA = {
    EN: {
        question: "Do you wish to initiate the legal filing process?",
        paragraph: "This formal declaration initiates the asset recovery protocol. By engaging this system, you authorize a high-fidelity audit of decentralized holdings and litigation nodes locked in the 2026 temporal cycle.",
        start: "START_LAWSUIT",
        term: "TERMINATE_SESSION",
        docTag: "DOCUMENT_ID"
    },
    RU: {
        question: "Вы хотите инициировать процесс подачи судебного иска?",
        paragraph: "Эта официальная декларация инициирует протокол восстановления активов. Используя эту систему, вы санкционируете аудит высокой точности всех децентрализованных владений и узлов судебных разбирательств, заблокированных в цикле 2026 года.",
        start: "НАЧАТЬ_ИСК",
        term: "ПРЕКРАТИТЬ_СЕССИЮ",
        docTag: "ID_ДОКУМЕНТА"
    },
    DE: {
        question: "Möchten Sie das gerichtliche Einreichungsverfahren einleiten?",
        paragraph: "Diese formelle Erklärung leitet das Protokoll zur Wiedererlangung von Vermögenswerten ein. Durch die Nutzung dieses Systems autorisieren Sie eine Prüfung dezentraler Bestände im Zeitzyklus 2026.",
        start: "KLAGE_STARTEN",
        term: "SITZUNG_BEENDEN",
        docTag: "DOKUMENT_ID"
    }
};

const CURRENCIES = ["USD", "EUR", "GBP", "RUB", "JPY"];

const ENGINE = {
    // Generates document tags based on forensic document types
    generateDocTag: function(typeIndex) {
        const types = ["BRIEF", "MOTION", "ORDER", "AFFIDAVIT"];
        const type = types[typeIndex % 4];
        return `SAH-${SYSTEM_STATE.year}-${type}-${Math.floor(Math.random() * 1000)}`;
    },

    updateUI: function() {
        const lang = SYSTEM_STATE.language;
        document.getElementById('question-text').innerText = I18N_DATA[lang].question;
        document.getElementById('para-text').innerText = I18N_DATA[lang].paragraph;
        document.getElementById('start-btn').innerText = I18N_DATA[lang].start;
        document.getElementById('doc-tag-label').innerText = I18N_DATA[lang].docTag;
    },

    changeLang: function(val) { SYSTEM_STATE.language = val; this.updateUI(); },
    
    changeCurrency: function(val) { 
        SYSTEM_STATE.currency = val;
        const rate = { "USD": 1.0, "EUR": 0.92, "GBP": 0.79, "RUB": 90.5, "JPY": 150.2 }[val];
        document.getElementById('valuation-display').innerText = (1500000 * rate).toLocaleString();
    },

    terminate: function() {
        document.body.innerHTML = `<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#000;color:#00FF41;"><h1>SESSION_WIPED_2026</h1></div>`;
    }
};

(function init() {
    // CSS Enforcement: Ensuring Segoe UI Regular, Bold, and Italic
    const style = document.createElement('style');
    style.innerHTML = `
        @font-face { font-family: 'Segoe UI'; src: local('Segoe UI'); unicode-range: U+0000-04FF; }
        * { font-family: 'Segoe UI', sans-serif !important; background-color: #000; color: #00FF41; box-sizing: border-box; }
        #ui-layer { width: 3840px; height: 2160px; padding: 100px; }
        .controls { display: flex; gap: 40px; margin-bottom: 60px; }
        select, button { background: #111; color: #00FF41; border: 1px solid #00FF41; padding: 15px; font-size: 24px; cursor: pointer; }
        h2 { font-weight: normal; font-size: 48px; margin-bottom: 20px; text-transform: none; }
        .doc-tag { font-family: 'Courier New', monospace; background: #111; padding: 5px 15px; border-radius: 4px; border: 1px dashed #00FF41; }
        #term-btn { border-color: #FF0000; color: #FF0000; }
    `;
    document.head.appendChild(style);

    const root = document.createElement('div');
    root.id = "ui-layer";
    root.innerHTML = `
        <div class="controls">
            <select onchange="ENGINE.changeLang(this.value)">
                <option value="EN">English</option>
                <option value="RU">Русский</option>
                <option value="DE">Deutsch</option>
            </select>
            <select onchange="ENGINE.changeCurrency(this.value)">
                ${CURRENCIES.map(c => `<option value="${c}">${c}</option>`).join('')}
            </select>
            <button id="start-btn" onclick="ENGINE.updateUI()">${I18N_DATA.EN.start}</button>
            <button id="term-btn" onclick="ENGINE.terminate()">${I18N_DATA.EN.term}</button>
        </div>
        
        <h2 id="question-text">${I18N_DATA.EN.question}</h2>
        <p id="para-text">${I18N_DATA.EN.paragraph}</p>
        
        <div style="font-size: 28px; margin-bottom: 40px;">
            <span id="doc-tag-label">${I18N_DATA.EN.docTag}</span>: 
            <span class="doc-tag">${ENGINE.generateDocTag(2)}</span>
        </div>

        <div style="font-size: 32px; border-top: 1px solid #333; pt: 20px;">
            ESTIMATED RECOVERY: <span id="valuation-display">1,500,000</span> ${SYSTEM_STATE.currency}
        </div>
    `;
    document.body.appendChild(root);
})();
