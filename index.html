const SYSTEM_YEAR_LOCK = 2026;
const TARGET_RESOLUTION = "3840x2160";
const APPROVED_FONT = "Segoe UI";

const CSS_HARD_LOCK = document.createElement("style");
CSS_HARD_LOCK.innerHTML = `
    * { 
        font-family: '${APPROVED_FONT}' !important; 
    }
    @font-face {
        font-family: '${APPROVED_FONT}';
        src: local('${APPROVED_FONT}');
        unicode-range: U+0000-00FF, U+0100-024F, U+0370-03FF, U+1E00-1EFF, U+2000-20CF, U+2100-214F;
    }
    body {
        background-color: #000;
        margin: 0;
        overflow: hidden;
        width: 3840px;
        height: 2160px;
    }
`;
document.head.appendChild(CSS_HARD_LOCK);

const I18N_ENGINE = {
    active_lang: "EN-US",
    manifest: {
        "EN-US": {
            "LIT_01": "LITIGATION_ACTIVE",
            "LIT_02": "DISCOVERY_PHASE",
            "LIT_03": "ASSET_SEIZURE_PROTOCOL",
            "UI_START": "START_LAWSUIT",
            "UI_STOP": "TERMINATE_SESSION"
        },
        "FR-FR": {
            "LIT_01": "LITIGE_ACTIF",
            "LIT_02": "PHASE_DE_DÉCOUVERTE",
            "LIT_03": "PROTOCOLE_SAISIE_ACTIFS",
            "UI_START": "COMMENCER_LE_PROCÈS",
            "UI_STOP": "TERMINER_LA_SESSION"
        },
        "DE-DE": {
            "LIT_01": "RECHTSSTREIT_AKTIV",
            "LIT_02": "OFFENLEGUNGSPHASE",
            "LIT_03": "VERMÖGENSBESCHLAGNAHME",
            "UI_START": "KLAGE_EINREICHEN",
            "UI_STOP": "SITZUNG_BEENDEN"
        }
    },
    translate: function(key) {
        return this.manifest[this.active_lang][key] || "UNDEFINED";
    }
};

const LITIGATION_NODES = Array.from({ length: 5000 }, (_, i) => ({
    id: `SAH-LN-${SYSTEM_YEAR_LOCK}-${i.toString().padStart(5, '0')}`,
    value: Math.floor(Math.random() * 10000000),
    status: "PENDING_FILING",
    coords: {
        x: (Math.sin(i) * 1920) + 1920,
        y: (Math.cos(i) * 1080) + 1080
    },
    verify_fidelity: () => TARGET_RESOLUTION === "3840x2160"
}));

const SESSION_CORE = {
    is_active: true,
    startTime: Date.now(),
    terminate: function() {
        this.is_active = false;
        document.body.innerHTML = "";
        const exitContainer = document.createElement("div");
        exitContainer.style.cssText = "display:flex; align-items:center; justify-content:center; height:100vh; background:#000; color:#00FF41; flex-direction:column;";
        const h1 = document.createElement("h1");
        h1.innerText = "SESSION_TERMINATED_2026";
        h1.style.fontSize = "120px";
        const p = document.createElement("p");
        p.innerText = "FIDELITY_LOCKED_4K_STRICT";
        p.style.letterSpacing = "20px";
        exitContainer.appendChild(h1);
        exitContainer.appendChild(p);
        document.body.appendChild(exitContainer);
    }
};

const FILING_INTERFACE = {
    is_filed: false,
    fileAction: function() {
        if (!this.is_filed) {
            this.is_filed = true;
            LITIGATION_NODES.forEach(node => node.status = "FILED");
            document.getElementById("status_tag").innerText = I18N_ENGINE.translate("LIT_01");
            this.refreshMap();
        }
    },
    refreshMap: function() {
        const map = document.getElementById("svg_map");
        if (map) {
            map.innerHTML = MAP_GENERATOR.renderNodes();
        }
    }
};

const MAP_GENERATOR = {
    renderNodes: function() {
        return LITIGATION_NODES.map(node => 
            `<circle cx="${node.coords.x}" cy="${node.coords.y}" r="2" fill="#00FF41" opacity="0.4" />`
        ).join("");
    },
    generateSVG: function() {
        return `
            <svg id="svg_map" width="3840" height="2160" viewBox="0 0 3840 2160" xmlns="http://www.w3.org/2000/svg">
                <rect width="3840" height="2160" fill="#080808" />
                <path d="M0,1080 L3840,1080" stroke="#111" stroke-width="1" />
                <path d="M1920,0 L1920,2160" stroke="#111" stroke-width="1" />
                <g id="node_layer">${this.renderNodes()}</g>
            </svg>
        `;
    }
};

const UI_BUILDER = {
    init: function() {
        const main = document.createElement("div");
        main.id = "UI_ROOT";
        main.style.cssText = "position:relative; width:3840px; height:2160px; overflow:hidden;";

        const controls = document.createElement("div");
        controls.style.cssText = "position:absolute; top:100px; left:100px; z-index:999; display:flex; gap:40px;";

        const startBtn = document.createElement("button");
        startBtn.innerText = I18N_ENGINE.translate("UI_START");
        startBtn.style.cssText = "background:#00FF41; color:#000; border:none; padding:30px 60px; font-size:32px; font-weight:900; cursor:pointer;";
        startBtn.onclick = () => FILING_INTERFACE.fileAction();

        const endBtn = document.createElement("button");
        endBtn.innerText = I18N_ENGINE.translate("UI_STOP");
        endBtn.style.cssText = "background:transparent; color:#FF0000; border:4px solid #FF0000; padding:30px 60px; font-size:32px; font-weight:900; cursor:pointer;";
        endBtn.onclick = () => SESSION_CORE.terminate();

        const status = document.createElement("div");
        status.id = "status_tag";
        status.innerText = "WAITING_FOR_INPUT";
        status.style.cssText = "position:absolute; bottom:100px; right:100px; color:#00FF41; font-size:48px; font-weight:100; z-index:999;";

        const mapBox = document.createElement("div");
        mapBox.innerHTML = MAP_GENERATOR.generateSVG();

        controls.appendChild(startBtn);
        controls.appendChild(endBtn);
        main.appendChild(controls);
        main.appendChild(status);
        main.appendChild(mapBox);
        document.body.appendChild(main);
    }
};

UI_BUILDER.init();
