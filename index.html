<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAH Enterprise | Global Forensic Command</title>
    <style>
        @font-face {
            font-family: 'Segoe UI';
            src: url('https://c.s-microsoft.com/static/fonts/segoe-ui/west-european/normal/latest.woff2') format('woff2');
            font-weight: 400; font-style: normal;
        }
        @font-face {
            font-family: 'Segoe UI';
            src: url('https://c.s-microsoft.com/static/fonts/segoe-ui/west-european/semibold/latest.woff2') format('woff2');
            font-weight: 600; font-style: normal;
        }
        @font-face {
            font-family: 'Segoe UI';
            src: url('https://c.s-microsoft.com/static/fonts/segoe-ui/west-european/bold/latest.woff2') format('woff2');
            font-weight: 700; font-style: normal;
        }
        @font-face {
            font-family: 'Segoe UI';
            src: url('https://c.s-microsoft.com/static/fonts/segoe-ui/west-european/italic/latest.woff2') format('woff2');
            font-weight: 400; font-style: italic;
        }
        @font-face {
            font-family: 'Segoe UI';
            src: url('https://c.s-microsoft.com/static/fonts/segoe-ui/west-european/semibold-italic/latest.woff2') format('woff2');
            font-weight: 600; font-style: italic;
        }
        @font-face {
            font-family: 'Segoe UI';
            src: url('https://c.s-microsoft.com/static/fonts/segoe-ui/west-european/bold-italic/latest.woff2') format('woff2');
            font-weight: 700; font-style: italic;
        }

        :root {
            --win-blue: #0078d4;
            --win-dark: #000000;
            --win-bg: #f3f2f1;
            --text-main: #323130;
            --border: #d2d0ce;
            --neon-green: #00ff41;
            --sidebar-w: 280px;
            --header-h: 64px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--win-bg); color: var(--text-main); display: flex; height: 100vh; overflow: hidden; }

        .sidebar { width: var(--sidebar-w); background: var(--win-dark); color: white; display: flex; flex-direction: column; flex-shrink: 0; z-index: 100; }
        .sidebar-brand { padding: 40px 25px 30px; }
        .sidebar-brand h2 { font-size: 14px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 15px; }
        
        .nav-list { flex-grow: 1; padding-top: 10px; }
        .nav-item { padding: 12px 25px; color: #adadad; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; transition: 0.2s; border-left: 4px solid transparent; display: flex; align-items: center; }
        .nav-item:hover { background: #1a1a1a; color: white; }
        .nav-item.active { color: var(--win-blue); font-weight: 700; border-left-color: var(--win-blue); background: #111; }

        .sidebar-footer { padding: 20px; background: #0a0a0a; border-top: 1px solid #222; }
        .lang-label { font-size: 9px; color: #555; font-weight: 700; text-transform: uppercase; margin-bottom: 8px; display: block; }
        .lang-select { width: 100%; background: #111; color: #888; border: 1px solid #333; padding: 10px; font-size: 11px; outline: none; cursor: pointer; }

        .viewport { flex-grow: 1; overflow-y: auto; background: #fff; position: relative; }
        .top-bar { height: var(--header-h); background: #fff; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: flex-end; padding: 0 40px; }
        .content-area { padding: 50px 60px; max-width: 1400px; margin: 0 auto; }

        .panel { display: none; }
        .panel.active { display: block; animation: panelIn 0.4s ease-out; }
        @keyframes panelIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .view-title { margin-bottom: 40px; }
        .view-title h1 { font-size: 28px; font-weight: 600; color: #000; letter-spacing: -0.5px; }
        .view-title p { color: #666; font-size: 14px; margin-top: 5px; }

        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px; }
        .stat-card { background: #fff; border: 1px solid var(--border); padding: 25px; position: relative; }
        .stat-card::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 3px; background: var(--win-blue); }
        .stat-label { font-size: 10px; font-weight: 700; color: #888; text-transform: uppercase; margin-bottom: 8px; display: block; }
        .stat-value { font-size: 26px; font-weight: 700; color: #000; }

        .table-container { border: 1px solid var(--border); border-radius: 2px; overflow: hidden; margin-top: 25px; }
        .data-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .data-table th { text-align: left; background: #f3f2f1; padding: 15px 20px; font-weight: 700; font-size: 11px; text-transform: uppercase; color: #666; border-bottom: 1px solid var(--border); }
        .data-table td { padding: 14px 20px; border-bottom: 1px solid #eee; color: #333; }
        .data-table tr:hover { background: #fdfdfd; }

        .btn-action { background: var(--win-blue); color: #fff; border: none; padding: 12px 28px; font-size: 11px; font-weight: 700; text-transform: uppercase; cursor: pointer; letter-spacing: 1px; transition: 0.2s; }
        .btn-action:hover { background: #005a9e; }

        .dl-hyperlink { color: var(--win-blue); text-decoration: none; font-weight: 700; font-size: 11px; text-transform: uppercase; border: 1px solid var(--win-blue); padding: 4px 10px; transition: 0.2s; }
        .dl-hyperlink:hover { background: var(--win-blue); color: white; }

        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 1000; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .modal { background: #fff; width: 550px; padding: 45px; border-top: 6px solid var(--win-blue); box-shadow: 0 40px 100px rgba(0,0,0,0.5); }
        .modal h2 { font-weight: 700; font-size: 22px; margin-bottom: 25px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-size: 10px; font-weight: 700; margin-bottom: 8px; text-transform: uppercase; color: #555; }
        .input-field { width: 100%; padding: 12px; border: 1px solid var(--border); outline: none; font-size: 14px; }
        .input-field:focus { border-color: var(--win-blue); }

        #term-overlay { display: none; position: fixed; inset: 0; background: #000; z-index: 2000; flex-direction: column; align-items: center; justify-content: center; }
        .term-box { width: 600px; }
        .term-header { color: var(--neon-green); font-family: monospace; font-size: 12px; margin-bottom: 15px; opacity: 0.6; }
        .term-body { color: var(--neon-green); font-family: monospace; font-size: 18px; letter-spacing: 2px; text-transform: uppercase; min-height: 80px; }
        .cursor { width: 10px; height: 18px; background: var(--neon-green); display: inline-block; animation: blink 0.8s infinite; vertical-align: middle; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        .badge { padding: 4px 10px; font-size: 10px; font-weight: 700; text-transform: uppercase; color: #fff; border-radius: 2px; }
        .bg-success { background: #107c10; }
        .bg-warning { background: #ffaa00; }
        .bg-error { background: #a4262c; }
    </style>
</head>
<body>

<aside class="sidebar">
    <div class="sidebar-brand"><h2>SAH Enterprise</h2></div>
    <nav class="nav-list">
        <div class="nav-item active" onclick="Core.route('dash', this)" id="n-dash">Dashboard</div>
        <div class="nav-item" onclick="Core.route('intel', this)" id="n-intel">Forensic Intel</div>
        <div class="nav-item" onclick="Core.route('vault', this)" id="n-vault">Legal Vault</div>
        <div class="nav-item" onclick="Core.route('reg', this)" id="n-reg">Registry</div>
        <div class="nav-item" onclick="Core.route('diag', this)" id="n-diag">Diagnostics</div>
        <div class="nav-item" onclick="Core.route('ledger', this)" id="n-ledger">Activity Ledger</div>
    </nav>
    <div class="sidebar-footer">
        <label class="lang-label">System Language</label>
        <select class="lang-select" id="lang-switch" onchange="Core.setLang(this.value)"></select>
    </div>
</aside>

<main class="viewport">
    <div class="top-bar">
        <span style="font-size: 11px; font-weight: 700; color: #888; letter-spacing: 1px;">ENCRYPTED_UPLINK_v18.0</span>
    </div>

    <div class="content-area">
        <section id="p-dash" class="panel active">
            <div class="view-title"><h1 id="h-ops">Global Operations</h1><p id="h-sub">Global forensic asset management and real-time litigation.</p></div>
            <div class="stats-grid">
                <div class="stat-card"><span class="stat-label" id="s-assets">Total Assets</span><div class="stat-value">$4,290.025</div></div>
                <div class="stat-card"><span class="stat-label" id="s-nodes">Active Nodes</span><div class="stat-value">1,024</div></div>
                <div class="stat-card"><span class="stat-label" id="s-health">Network Health</span><div class="stat-value" style="color:#107c10;">99.8%</div></div>
                <div class="stat-card"><span class="stat-label" id="s-latency">Latency</span><div class="stat-value">12ms</div></div>
            </div>
            <div style="display:flex; justify-content:space-between; align-items:center;"><h3 style="font-size: 13px; font-weight: 700; text-transform: uppercase; color: #888;">Administrative Control</h3><button class="btn-action" onclick="Core.modal(true)" id="b-file">File Injunction</button></div>
        </section>

        <section id="p-intel" class="panel">
            <div class="view-title"><h1 id="h-intel">Forensic Intelligence</h1></div>
            <div class="table-container">
                <table class="data-table">
                    <thead><tr><th id="t-entity">Entity</th><th id="t-hash">Hash Identifier</th><th id="t-class">Class</th><th id="t-threat">Threat</th></tr></thead>
                    <tbody>
                        <tr><td>ShadowThread-X</td><td>0x8C92-AFF</td><td>Trojan.Generic</td><td><span class="badge bg-error">Critical</span></td></tr>
                        <tr><td>VoidPacket-A</td><td>0x3F21-B01</td><td>Spyware.Node</td><td><span class="badge bg-warning">Moderate</span></td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="p-reg" class="panel">
            <div class="view-title"><h1 id="h-reg">Lawsuit Registry</h1></div>
            <div class="table-container">
                <table class="data-table">
                    <thead><tr><th id="t-id">Case ID</th><th id="t-target">Target</th><th id="t-sum">Sum</th><th id="t-status">Status</th><th style="text-align:right;" id="t-doc">Instrument</th></tr></thead>
                    <tbody id="registry-body"></tbody>
                </table>
            </div>
        </section>

        <section id="p-vault" class="panel">
            <div class="view-title"><h1 id="h-vault">Legal Vault</h1></div>
            <div class="stat-card" style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 20px;"><div><span class="stat-label">System Cert</span><div style="font-weight:600;">Root_Authority_2026.pdf</div></div><a href="#" class="dl-hyperlink" onclick="Core.dl('Root_Authority.pdf', 'ROOT FORENSIC CERTIFICATE')">Download</a></div>
            <div class="stat-card" style="display:flex; justify-content:space-between; align-items:center;"><div><span class="stat-label">Jurisdiction</span><div style="font-weight:600;">Global_Boundaries_v1.html</div></div><a href="#" class="dl-hyperlink" onclick="Core.dl('Boundaries.html', '<h1>JURISDICTION MAP</h1>')">Download</a></div>
        </section>

        <section id="p-diag" class="panel">
            <div class="view-title"><h1>Node Diagnostics</h1></div>
            <div class="stats-grid" id="node-grid"></div>
        </section>

        <section id="p-ledger" class="panel">
            <div class="view-title"><h1>Activity Ledger</h1></div>
            <div class="table-container"><table class="data-table"><thead><tr><th>Timestamp</th><th>Action</th><th>Uplink</th></tr></thead><tbody id="ledger-body"></tbody></table></div>
        </section>
    </div>
</main>

<div class="overlay" id="inj-modal">
    <div class="modal">
        <h2 id="m-title">Litigation Filing</h2>
        <div class="form-group"><label id="m-ip">Target Identity</label><input type="text" id="f-ip" class="input-field" placeholder="192.168.1.1"></div>
        <div class="form-group"><label id="m-amt">Recovery Sum</label><input type="number" id="f-amt" class="input-field" value="5000"></div>
        <div class="form-group"><label id="m-cur">Currency</label><select id="f-cur" class="input-field"><option value="USD">USD ($)</option><option value="EUR">EUR (€)</option><option value="BTC">BTC (₿)</option></select></div>
        <div style="display:flex; gap:15px; margin-top:30px;"><button class="btn-action" style="flex:1" onclick="Core.execute()" id="m-sub">Submit</button><button class="btn-action" style="flex:1; background:#eee; color:#333;" onclick="Core.modal(false)" id="m-can">Cancel</button></div>
    </div>
</div>

<div id="term-overlay"><div class="term-box"><div class="term-header">SYSTEM_UPLINK_PROMPT</div><div class="term-body"><span id="term-txt"></span><span class="cursor"></span></div></div></div>

<script>
const Core = {
    curLang: 'en',
    languages: [
        { n: "English", v: "en" }, { n: "Español", v: "es" }, { n: "Français", v: "fr" },
        { n: "Deutsch", v: "de" }, { n: "中文", v: "zh" }, { n: "日本語", v: "ja" },
        { n: "Русский", v: "ru" }, { n: "Português", v: "pt" }, { n: "Italiano", v: "it" }
    ],
    dict: {
        en: { dash: "Dashboard", intel: "Forensic Intel", vault: "Legal Vault", reg: "Registry", ops: "Global Operations", sub: "Global forensic asset management.", file: "File Injunction", sAssets: "Total Assets", sNodes: "Active Nodes", sHealth: "Network Health", sLat: "Latency", tEnt: "Entity", tHash: "Hash", tClass: "Class", tThreat: "Threat", tId: "Case ID", tTarget: "Target", tSum: "Sum", tStatus: "Status", tDoc: "Instrument", mTitle: "Litigation Filing", mIp: "Target Identity", mAmt: "Recovery Sum", mCur: "Currency", mSub: "Submit", mCan: "Cancel", dl: "Download", serving: "Serving Global Warrant..." },
        ru: { dash: "Панель", intel: "Разведка", vault: "Хранилище", reg: "Реестр", ops: "Глобальные операции", sub: "Управление активами и судебные иски.", file: "Подать иск", sAssets: "Всего активов", sNodes: "Активные узлы", sHealth: "Здоровье сети", sLat: "Задержка", tEnt: "Объект", tHash: "Хэш", tClass: "Класс", tThreat: "Угроза", tId: "ID дела", tTarget: "Цель", tSum: "Сумма", tStatus: "Статус", tDoc: "Документ", mTitle: "Подача иска", mIp: "Личность цели", mAmt: "Сумма взыскания", mCur: "Валюта", mSub: "Отправить", mCan: "Отмена", dl: "Скачать", serving: "Вручение глобального ордера..." },
        es: { dash: "Tablero", intel: "Inteligencia", vault: "Bóveda", reg: "Registro", ops: "Operaciones", sub: "Gestión de activos forenses.", file: "Presentar Demanda", sAssets: "Activos Totales", sNodes: "Nodos Activos", sHealth: "Salud de Red", sLat: "Latencia", tEnt: "Entidad", tHash: "Hash", tClass: "Clase", tThreat: "Amenaza", tId: "ID Caso", tTarget: "Objetivo", tSum: "Suma", tStatus: "Estado", tDoc: "Instrumento", mTitle: "Registro de Litigio", mIp: "Identidad", mAmt: "Suma de Recuperación", mCur: "Moneda", mSub: "Enviar", mCan: "Cancelar", dl: "Descargar", serving: "Sirviendo Orden Global..." },
        fr: { dash: "Tableau de bord", intel: "Renseignement forensique", vault: "Coffre-fort légal", reg: "Registre", ops: "Opérations mondiales", sub: "Gestion mondiale des actifs forensiques.", file: "Déposer une injonction", sAssets: "Total des actifs", sNodes: "Nœuds actifs", sHealth: "Santé du réseau", sLat: "Latence", tEnt: "Entité", tHash: "Hachage", tClass: "Classe", tThreat: "Menace", tId: "ID du cas", tTarget: "Cible", tSum: "Somme", tStatus: "Statut", tDoc: "Instrument", mTitle: "Dépôt de litige", mIp: "Identité de la cible", mAmt: "Somme de récupération", mCur: "Devise", mSub: "Soumettre", mCan: "Annuler", dl: "Télécharger", serving: "Signification d'un mandat mondial..." },
        de: { dash: "Dashboard", intel: "Forensik-Intel", vault: "Rechtstresor", reg: "Register", ops: "Globale Operationen", sub: "Globale forensische Vermögensverwaltung.", file: "Einstweilige Verfügung", sAssets: "Gesamtvermögen", sNodes: "Aktive Knoten", sHealth: "Netzwerkstatus", sLat: "Latenz", tEnt: "Entität", tHash: "Hash", tClass: "Klasse", tThreat: "Bedrohung", tId: "Fall-ID", tTarget: "Ziel", tSum: "Summe", tStatus: "Status", tDoc: "Instrument", mTitle: "Einreichung von Rechtsstreitigkeiten", mIp: "Zielidentität", mAmt: "Rückforderungssumme", mCur: "Währung", mSub: "Einreichen", mCan: "Abbrechen", dl: "Herunterladen", serving: "Zustellung des globalen Haftbefehls..." },
        zh: { dash: "仪表板", intel: "取证情报", vault: "法律库", reg: "登记处", ops: "全球运营", sub: "全球取证资产管理。", file: "提交禁令", sAssets: "总资产", sNodes: "活跃节点", sHealth: "网络健康", sLat: "延迟", tEnt: "实体", tHash: "哈希值", tClass: "类", tThreat: "威胁", tId: "案件ID", tTarget: "目标", tSum: "金额", tStatus: "状态", tDoc: "文书", mTitle: "诉讼备案", mIp: "目标身份", mAmt: "追缴金额", mCur: "货币", mSub: "提交", mCan: "取消", dl: "下载", serving: "送达全球搜查令..." },
        ja: { dash: "ダッシュボード", intel: "フォレンジック情報", vault: "法的保管庫", reg: "レジストリ", ops: "グローバル・オペレーション", sub: "グローバルなフォレンジック資産管理。", file: "差し止め命令の申し立て", sAssets: "総資産", sNodes: "アクティブ・ノード", sHealth: "ネットワークの健全性", sLat: "遅延", tEnt: "エンティティ", tHash: "ハッシュ", tClass: "クラス", tThreat: "脅威", tId: "ケースID", tTarget: "ターゲット", tSum: "合計", tStatus: "ステータス", tDoc: "証書", mTitle: "訴訟申し立て", mIp: "ターゲットの身元", mAmt: "回収額", mCur: "通貨", mSub: "送信", mCan: "キャンセル", dl: "ダウンロード", serving: "グローバル令状を送達中..." },
        pt: { dash: "Painel", intel: "Intel Forense", vault: "Cofre Jurídico", reg: "Registo", ops: "Operações Globais", sub: "Gestão global de ativos forenses.", file: "Interpor Injunção", sAssets: "Total de Ativos", sNodes: "Nós Ativos", sHealth: "Saúde da Rede", sLat: "Latência", tEnt: "Entidade", tHash: "Hash", tClass: "Classe", tThreat: "Ameaça", tId: "ID do Caso", tTarget: "Alvo", tSum: "Soma", tStatus: "Estado", tDoc: "Instrumento", mTitle: "Registo de Litígio", mIp: "Identidade do Alvo", mAmt: "Soma de Recuperação", mCur: "Moeda", mSub: "Submeter", mCan: "Cancelar", dl: "Descarregar", serving: "Servindo Mandado Global..." },
        it: { dash: "Dashboard", intel: "Intel Forense", vault: "Caveau Legale", reg: "Registro", ops: "Operazioni Globali", sub: "Gestione globale degli asset forensi.", file: "Presenta Ingiunzione", sAssets: "Asset Totali", sNodes: "Nodi Attivi", sHealth: "Salute della Rete", sLat: "Latenza", tEnt: "Entità", tHash: "Hash", tClass: "Classe", tThreat: "Minaccia", tId: "ID Caso", tTarget: "Target", tSum: "Somma", tStatus: "Stato", tDoc: "Strumento", mTitle: "Archiviazione Contenzioso", mIp: "Identità Target", mAmt: "Somma di Recupero", mCur: "Valuta", mSub: "Invia", mCan: "Annulla", dl: "Scarica", serving: "Notifica Mandato Globale..." }
    },
    init() {
        const lSel = document.getElementById('lang-switch');
        this.languages.forEach(l => {
            const o = document.createElement('option');
            o.value = l.v; o.innerText = l.n;
            lSel.appendChild(o);
        });
        const nGrid = document.getElementById('node-grid');
        for(let i=1; i<=16; i++) {
            nGrid.innerHTML += `<div class="stat-card"><span class="stat-label">Node CL-0${i}</span><div class="stat-value" style="font-size:14px;">IP: 10.0.${i}.254</div><div style="font-size:10px; color:#107c10; font-weight:700; margin-top:5px;">SYNCHRONIZED</div></div>`;
        }
        this.log("System Initialized", "CORE");
        this.setLang('en');
        this.addRegRow("ShadowThread-X", "5000", "USD");
        this.addRegRow("VoidPacket-A", "2500", "EUR");
    },
    route(id, el) {
        document.querySelectorAll('.panel, .nav-item').forEach(x => x.classList.remove('active'));
        document.getElementById('p-' + id).classList.add('active');
        el.classList.add('active');
    },
    setLang(v) {
        this.curLang = v;
        const d = this.dict[v] || this.dict['en'];
        document.getElementById('n-dash').innerText = d.dash;
        document.getElementById('n-intel').innerText = d.intel;
        document.getElementById('n-vault').innerText = d.vault;
        document.getElementById('n-reg').innerText = d.reg;
        document.getElementById('h-ops').innerText = d.ops;
        document.getElementById('h-sub').innerText = d.sub;
        document.getElementById('b-file').innerText = d.file;
        document.getElementById('h-intel').innerText = d.intel;
        document.getElementById('h-reg').innerText = d.reg;
        document.getElementById('h-vault').innerText = d.vault;
        document.getElementById('s-assets').innerText = d.sAssets;
        document.getElementById('s-nodes').innerText = d.sNodes;
        document.getElementById('s-health').innerText = d.sHealth;
        document.getElementById('s-latency').innerText = d.sLat;
        document.getElementById('t-entity').innerText = d.tEnt;
        document.getElementById('t-hash').innerText = d.tHash;
        document.getElementById('t-class').innerText = d.tClass;
        document.getElementById('t-threat').innerText = d.tThreat;
        document.getElementById('t-id').innerText = d.tId;
        document.getElementById('t-target').innerText = d.tTarget;
        document.getElementById('t-sum').innerText = d.tSum;
        document.getElementById('t-status').innerText = d.tStatus;
        document.getElementById('t-doc').innerText = d.tDoc;
        document.getElementById('m-title').innerText = d.mTitle;
        document.getElementById('m-ip').innerText = d.mIp;
        document.getElementById('m-amt').innerText = d.mAmt;
        document.getElementById('m-cur').innerText = d.mCur;
        document.getElementById('m-sub').innerText = d.mSub;
        document.getElementById('m-can').innerText = d.mCan;
        this.refreshReg();
    },
    modal(show) { document.getElementById('inj-modal').style.display = show ? 'flex' : 'none'; },
    async execute() {
        const ip = document.getElementById('f-ip').value || "ENTITY-X";
        const amt = document.getElementById('f-amt').value;
        const cur = document.getElementById('f-cur').value;
        this.modal(false);
        const overlay = document.getElementById('term-overlay');
        const txt = document.getElementById('term-txt');
        overlay.style.display = 'flex';
        const steps = ["Initializing Node 1,024 Uplink...", "Encrypting Forensic Data...", "Authenticating with Global Court Node...", "Serving Warrant to Target Hash...", "WARRANT SERVED GLOBALLY.", `Litigation filed against ${ip}.`];
        for(let s of steps) {
            txt.innerText = s;
            await new Promise(r => setTimeout(r, 1200));
        }
        this.addRegRow(ip, amt, cur);
        this.log(`Litigation Filed: ${ip}`, "SEC_OFFICER");
        overlay.style.display = 'none';
        this.route('reg', document.getElementById('n-reg'));
    },
    cases: [],
    addRegRow(target, amt, cur) {
        const id = "CAS-" + Math.floor(Math.random()*89999 + 10000);
        this.cases.unshift({ id, target, amt, cur });
        this.refreshReg();
    },
    refreshReg() {
        const body = document.getElementById('registry-body');
        body.innerHTML = '';
        this.cases.forEach(c => {
            const sym = c.cur === "BTC" ? "₿" : (c.cur === "EUR" ? "€" : "$");
            const dlTxt = this.dict[this.curLang].dl;
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${c.id}</td><td style="font-weight:600;">${c.target}</td><td>${sym}${parseFloat(c.amt).toLocaleString()}</td><td><span class="badge bg-success">Filed</span></td><td style="text-align:right;"><a href="#" class="dl-hyperlink" onclick="Core.dl('Doc_${c.id}.pdf', 'CASE ID: ${c.id}\\nTarget: ${c.target}\\nSum: ${sym}${c.amt}')">${dlTxt}</a></td>`;
            body.appendChild(tr);
        });
    },
    log(msg, source) {
        const body = document.getElementById('ledger-body');
        const ts = new Date().toLocaleTimeString();
        body.innerHTML = `<tr><td>${ts}</td><td>${msg}</td><td style="font-weight:700;">${source}</td></tr>` + body.innerHTML;
    },
    dl(name, content) {
        const blob = new Blob([content], {type:'text/plain'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = name; a.click();
    },
    auditExport() {
        let content = "TIMESTAMP,ACTION,UPLINK\n";
        document.querySelectorAll('#ledger-body tr').forEach(tr => {
            const tds = tr.querySelectorAll('td');
            content += `${tds[0].innerText},${tds[1].innerText},${tds[2].innerText}\n`;
        });
        this.dl('Audit_Log.csv', content);
    }
};
Core.init();
</script>
</body>
</html>
