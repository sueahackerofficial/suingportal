<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAH Enterprise | Global Forensic Command</title>
    <style>
        @font-face {
            font-family: 'Segoe UI Custom';
            src: local('Segoe UI'), url('https://mwf-service.akamaized.net/mwf/fonts/segoe-ui/west-european/normal/latest.woff2') format('woff2');
            font-weight: 400;
        }
        @font-face {
            font-family: 'Segoe UI Custom';
            src: local('Segoe UI Bold'), url('https://mwf-service.akamaized.net/mwf/fonts/segoe-ui/west-european/bold/latest.woff2') format('woff2');
            font-weight: 700;
        }

        :root {
            --win-blue: #0078d4;
            --win-blue-deep: #005a9e;
            --win-dark: #111111;
            --win-bg: #f3f2f1;
            --neon-green: #00ff41;
            --text-main: #323130;
            --text-sec: #605e5c;
            --border: #d2d0ce;
            --err: #a4262c;
            --succ: #107c10;
            --warn: #ff8c00;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI Custom', 'Segoe UI', sans-serif !important; }
        body { display: flex; height: 100vh; background: var(--win-bg); color: var(--text-main); overflow: hidden; }

        .sidebar { width: 320px; background: var(--win-dark); color: #fff; display: flex; flex-direction: column; z-index: 1000; border-right: 1px solid #333; }
        .sidebar-brand { padding: 45px 35px; font-weight: 700; font-size: 22px; letter-spacing: 2px; border-bottom: 1px solid #222; }
        .nav-stack { flex-grow: 1; padding-top: 25px; }
        .nav-link { 
            padding: 18px 35px; font-size: 14px; cursor: pointer; transition: 0.3s; 
            display: flex; align-items: center; color: #888; border-left: 6px solid transparent;
        }
        .nav-link:hover { background: #1a1a1a; color: #fff; }
        .nav-link.active { background: #1a1a1a; color: var(--win-blue); border-left-color: var(--win-blue); font-weight: 600; }
        .sidebar-footer { padding: 30px; font-size: 11px; color: #444; border-top: 1px solid #222; }

        .main-viewport { flex-grow: 1; padding: 60px; overflow-y: auto; position: relative; }
        .panel { display: none; }
        .panel.active { display: block; animation: panelFade 0.4s cubic-bezier(0.1, 0.9, 0.2, 1); }
        @keyframes panelFade { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .title-bar { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 50px; border-bottom: 2px solid var(--win-blue); padding-bottom: 15px; }
        h1 { font-size: 34px; font-weight: 600; letter-spacing: -1px; }

        .metric-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 45px; }
        .metric-card { background: #fff; padding: 30px; border: 1px solid var(--border); box-shadow: 0 4px 12px rgba(0,0,0,0.05); position: relative; }
        .metric-card label { font-size: 11px; font-weight: 700; color: var(--text-sec); text-transform: uppercase; letter-spacing: 0.5px; }
        .metric-card .val { font-size: 38px; font-weight: 700; color: var(--win-blue); margin-top: 12px; }

        .viz-container { background: #fff; border: 1px solid var(--border); padding: 35px; margin-bottom: 40px; height: 350px; position: relative; }
        canvas { width: 100% !important; height: 100% !important; }

        .tool-bar { display: flex; gap: 20px; margin-bottom: 25px; }
        .search-box { flex-grow: 1; padding: 14px 20px; border: 1px solid var(--border); outline: none; font-size: 15px; transition: 0.2s; }
        .search-box:focus { border-color: var(--win-blue); box-shadow: 0 0 0 1px var(--win-blue); }

        .data-table { width: 100%; border-collapse: collapse; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .data-table th { text-align: left; padding: 18px; background: #faf9f8; font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--text-sec); border-bottom: 1px solid var(--border); }
        .data-table td { padding: 18px; border-bottom: 1px solid #f3f2f1; font-size: 14px; }
        .data-table tr:hover { background: #fcfcfc; }

        .pill { padding: 5px 12px; border-radius: 20px; font-size: 10px; font-weight: 700; text-transform: uppercase; display: inline-block; }
        .pill-active { background: #fde7e9; color: #a4262c; }
        .pill-safe { background: #dff6dd; color: #107c10; }
        .pill-warn { background: #fff4ce; color: #996100; }

        .action-btn { 
            background: var(--win-blue); color: #fff; border: none; padding: 18px 45px; font-weight: 700;
            text-transform: uppercase; cursor: pointer; transition: 0.3s;
            box-shadow: 0 8px 15px rgba(0, 120, 212, 0.3);
        }
        .action-btn:hover { background: var(--win-blue-deep); transform: translateY(-3px); box-shadow: 0 12px 25px rgba(0, 120, 212, 0.4); }

        #legal-portal { display: none; position: fixed; inset: 0; background: #000; z-index: 10001; padding: 80px; color: var(--neon-green); overflow: hidden; }
        .term-container { height: 80%; background: #080808; border: 1px solid #444; padding: 40px; overflow-y: auto; font-family: 'Consolas', monospace !important; font-size: 17px; line-height: 1.8; }
        .blink-caret { display: inline-block; width: 12px; height: 24px; background: var(--neon-green); animation: blinker 0.8s infinite; vertical-align: middle; }
        @keyframes blinker { 50% { opacity: 0; } }

        #notify-stack { position: fixed; bottom: 40px; right: 40px; width: 360px; z-index: 10002; }
        .toast { background: white; border-left: 8px solid var(--win-blue); padding: 25px; margin-top: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.25); animation: toastSlide 0.4s cubic-bezier(0.1, 0.9, 0.2, 1); }
        @keyframes toastSlide { from { transform: translateX(120%); } to { transform: translateX(0); } }
    </style>
</head>
<body>

<aside class="sidebar">
    <div class="sidebar-brand">SAH ENTERPRISE</div>
    <nav class="nav-stack" id="nav-engine">
        <div class="nav-link active" data-view="dashboard">EXECUTIVE CONTROL</div>
        <div class="nav-link" data-view="intel">FORENSIC INTEL</div>
        <div class="nav-link" data-view="diagnostics">NODE DIAGNOSTICS</div>
        <div class="nav-link" data-view="legal">STATUTORY VAULT</div>
        <div class="nav-link" data-view="config">GLOBAL SETTINGS</div>
    </nav>
    <div class="sidebar-footer">
        SECURITY PROTOCOL: OMNI-V5<br>
        UPLINK: NODE 1,024 [SYNCHRONIZED]<br>
        LATENCY: 14ms
    </div>
</aside>

<main class="main-viewport">
    <section id="dashboard" class="panel active">
        <div class="title-bar"><h1>Operations Hub</h1><button class="action-btn" onclick="SAH_Core.executeWarrant()">File Injunction</button></div>
        <div class="metric-grid">
            <div class="metric-card"><label>Global Assets</label><div class="val" id="m-rev">$4,290.00</div></div>
            <div class="metric-card"><label>Cluster Capacity</label><div class="val" id="m-node">1,024</div></div>
            <div class="metric-card"><label>Active Cases</label><div class="val" style="color:var(--err)">24</div></div>
            <div class="metric-card"><label>Network Health</label><div class="val" style="color:var(--succ)">99.8%</div></div>
        </div>
        <div class="viz-container"><canvas id="live-stream-viz"></canvas></div>
    </section>

    <section id="intel" class="panel">
        <div class="title-bar"><h1>Forensic Intelligence</h1><button class="action-btn" style="padding:12px 25px; font-size:12px;" onclick="SAH_Core.exportAudit()">Generate Report</button></div>
        <div class="tool-bar"><input type="text" class="search-box" id="intel-query" placeholder="Filter by Entity Hash, Risk Level, or Source Node..." onkeyup="SAH_Core.search()"></div>
        <table class="data-table">
            <thead><tr><th>Entity Hash</th><th>Infringement</th><th>Source Node</th><th>Risk</th><th>Status</th></tr></thead>
            <tbody id="intel-table-body"></tbody>
        </table>
    </section>

    <section id="diagnostics" class="panel">
        <div class="title-bar"><h1>Node Diagnostic Engine</h1></div>
        <div class="metric-grid" id="node-diag-grid"></div>
    </section>

    <section id="legal" class="panel">
        <div class="title-bar"><h1>Statutory Vault</h1></div>
        <div class="metric-grid">
            <div class="metric-card"><h3>Global_Statute_2026.pdf</h3><p style="margin-top:10px; font-size:12px;">Digital litigation frameworks.</p></div>
            <div class="metric-card"><h3>Warrant_Master_V5.pdf</h3><p style="margin-top:10px; font-size:12px;">Pre-authorized node serving.</p></div>
            <div class="metric-card"><h3>Jurisdiction_Map.html</h3><p style="margin-top:10px; font-size:12px;">Decentralized legal zones.</p></div>
        </div>
    </section>

    <section id="config" class="panel">
        <div class="title-bar"><h1>System Config</h1></div>
        <div class="metric-card" style="max-width: 600px;">
            <label>Lead Investigator Identity</label>
            <input type="text" class="search-box" value="Principal Forensic Counsel" style="width:100%; margin: 15px 0;">
            <label>Autonomous Execution Mode</label>
            <select class="search-box" style="width:100%; margin: 15px 0;"><option>Enabled (Standard)</option><option>High Security (Manual Approval)</option></select>
            <button class="action-btn" onclick="SAH_Core.toast('Configuration Uplinked Successfully')">Save Parameters</button>
        </div>
    </section>
</main>

<div id="legal-portal">
    <h2 style="margin-bottom:30px; letter-spacing: 3px;">SAH_GLOBAL_FORENSIC_PROTOCOL_V5</h2>
    <div class="term-container" id="terminal-stream"></div>
    <div style="margin-top:35px;"><button id="btn-close-portal" class="action-btn" style="display:none; background:var(--neon-green); color:#000;" onclick="location.reload()">Terminate Session</button><span class="blink-caret"></span></div>
</div>

<div id="notify-stack"></div>

<script>
class SAH_Enterprise_Engine {
    constructor() {
        this.revenue = 4290.00;
        this.nodes = 1024;
        this.cases = [
            {h: '0xFA31-99', i: 'Revenue Leak', n: '1024-X', r: 'Critical', s: 'Active'},
            {h: '0xBC88-12', i: 'IP Breach', n: '1024-Z', r: 'High', s: 'Pending'},
            {h: '0xDE00-4F', i: 'Node Fraud', n: '1024-A', r: 'Critical', s: 'Active'},
            {h: '0x77AC-DD', i: 'Identity Theft', n: '1024-M', r: 'Medium', s: 'Watching'}
        ];
        this.init();
    }

    init() {
        this.bindNav();
        this.renderIntel();
        this.renderDiag();
        this.startHeartbeat();
        this.initCanvas();
        this.toast('Forensic Uplink Established - Node 1,024 Online');
    }

    bindNav() {
        document.querySelectorAll('.nav-link').forEach(link => {
            link.onclick = () => {
                document.querySelectorAll('.nav-link, .panel').forEach(el => el.classList.remove('active'));
                link.classList.add('active');
                document.getElementById(link.dataset.view).classList.add('active');
            };
        });
    }

    renderIntel() {
        const body = document.getElementById('intel-table-body');
        body.innerHTML = this.cases.map(c => `
            <tr>
                <td><code>${c.h}</code></td>
                <td>${c.i}</td>
                <td>${c.n}</td>
                <td style="font-weight:700; color:${c.r === 'Critical' ? 'var(--err)' : 'inherit'}">${c.r}</td>
                <td><span class="pill ${c.s === 'Active' ? 'pill-active' : 'pill-warn'}">${c.s}</span></td>
            </tr>
        `).join('');
    }

    renderDiag() {
        const grid = document.getElementById('node-diag-grid');
        let html = '';
        for(let i=0; i<8; i++) {
            html += `<div class="metric-card"><label>Node Cluster 0${i+1}</label><div class="val" style="font-size:20px; color:var(--succ)">OPERATIONAL</div><p style="font-size:10px; margin-top:10px;">Load: ${Math.floor(Math.random()*40)+20}%</p></div>`;
        }
        grid.innerHTML = html;
    }

    search() {
        const q = document.getElementById('intel-query').value.toUpperCase();
        const rows = document.getElementById('intel-table-body').getElementsByTagName('tr');
        for (let r of rows) { r.style.display = r.innerText.toUpperCase().includes(q) ? "" : "none"; }
    }

    startHeartbeat() {
        setInterval(() => {
            this.revenue += Math.random() * 0.25;
            this.nodes += Math.random() > 0.6 ? 1 : -1;
            document.getElementById('m-rev').innerText = `$${this.revenue.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
            document.getElementById('m-node').innerText = this.nodes.toLocaleString();
            this.draw();
        }, 3000);
    }

    initCanvas() {
        this.cvs = document.getElementById('live-stream-viz');
        this.ctx = this.cvs.getContext('2d');
        this.draw();
    }

    draw() {
        const c = this.ctx;
        c.clearRect(0,0, 1000, 400);
        c.strokeStyle = '#0078d4';
        c.lineWidth = 4;
        c.beginPath();
        c.moveTo(0, 200);
        for(let i=0; i<50; i++) {
            c.lineTo(i * 25, 200 - (Math.random() * 120));
        }
        c.stroke();
    }

    toast(m) {
        const stack = document.getElementById('notify-stack');
        const t = document.createElement('div');
        t.className = 'toast';
        t.innerHTML = `<strong>ENTERPRISE ALERT</strong><br>${m}`;
        stack.appendChild(t);
        setTimeout(() => t.remove(), 5000);
    }

    async executeWarrant() {
        const target = prompt("Target Forensic Entity Hash:");
        if(!target) return;
        document.getElementById('legal-portal').style.display = 'block';
        const stream = document.getElementById('terminal-stream');
        const logs = [
            `> Initiating SAH_FORENSIC_WARRANT_PROTOCOL_V5...`,
            `> Authenticating Principal Counsel Credentials... SUCCESS.`,
            `> Scanning Node 1,024 for Entity: ${target}... FOUND.`,
            `> Generating Digital Injunction (SHA-512 Hash)...`,
            `> Serving Electronic Subpoena via Mesh Relay Node Cluster...`,
            `> Anchoring Legal Metadata to Decentralized Court Ledger...`,
            `> Case ID: SAH-2026-${Math.random().toString(16).slice(2,8).toUpperCase()} - FILED.`,
            `> [COMPLETE] Global Injunction Active.`
        ];
        for(let l of logs) {
            const p = document.createElement('p');
            p.style.marginBottom = '15px';
            p.innerText = l;
            stream.appendChild(p);
            stream.scrollTop = stream.scrollHeight;
            await new Promise(r => setTimeout(r, 1000));
        }
        document.getElementById('btn-close-portal').style.display = 'inline-block';
    }

    exportAudit() {
        this.toast('Compiling Forensic Intelligence Audit...');
        setTimeout(() => alert('Audit File [SAH_INTEL_2026.csv] generated and stored on Node 1,024.'), 1200);
    }
}

const SAH_Core = new SAH_Enterprise_Engine();
</script>
</body>
</html>
